[debug] [2024-04-22T16:23:18.116Z] ----------------------------------------------------------------------
[debug] [2024-04-22T16:23:18.117Z] Command:       /usr/local/lib/node_modules/node/bin/node /usr/local/bin/firebase deploy
[debug] [2024-04-22T16:23:18.117Z] CLI Version:   13.0.3
[debug] [2024-04-22T16:23:18.117Z] Platform:      linux
[debug] [2024-04-22T16:23:18.117Z] Node Version:  v18.20.1
[debug] [2024-04-22T16:23:18.122Z] Time:          Mon Apr 22 2024 19:23:18 GMT+0300 (Θερινή ώρα Ανατολικής Ευρώπης)
[debug] [2024-04-22T16:23:18.122Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-04-22T16:23:18.124Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none]
[debug] [2024-04-22T16:23:18.175Z] Field ".emulators.functions.port" in "firebase.json" is possibly invalid: should be number
[debug] [2024-04-22T16:23:18.177Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-04-22T16:23:18.178Z] > authorizing via signed-in user (tzimasvaggelis02@gmail.com)
[debug] [2024-04-22T16:23:18.178Z] [iam] checking project heavy-local-12bc4 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]
[debug] [2024-04-22T16:23:18.178Z] > refreshing access token with scopes: []
[debug] [2024-04-22T16:23:18.179Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2024-04-22T16:23:18.179Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2024-04-22T16:23:41.676Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2024-04-22T16:23:41.676Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2024-04-22T16:23:41.681Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/heavy-local-12bc4:testIamPermissions [none]
[debug] [2024-04-22T16:23:41.682Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/heavy-local-12bc4:testIamPermissions x-goog-quota-user=projects/heavy-local-12bc4
[debug] [2024-04-22T16:23:41.682Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/heavy-local-12bc4:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2024-04-22T16:23:41.790Z] <<< [apiv2][status] GET https://firebase-public.firebaseio.com/cli.json 200
[debug] [2024-04-22T16:23:41.790Z] <<< [apiv2][body] GET https://firebase-public.firebaseio.com/cli.json {"cloudBuildErrorAfter":1594252800000,"cloudBuildWarnAfter":1590019200000,"defaultNode10After":1594252800000,"minVersion":"3.0.5","node8DeploysDisabledAfter":1613390400000,"node8RuntimeDisabledAfter":1615809600000,"node8WarnAfter":1600128000000}
[debug] [2024-04-22T16:23:56.887Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/heavy-local-12bc4:testIamPermissions 200
[debug] [2024-04-22T16:23:56.888Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/heavy-local-12bc4:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2024-04-22T16:23:56.889Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/heavy-local-12bc4/serviceAccounts/heavy-local-12bc4@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-04-22T16:23:56.890Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/heavy-local-12bc4/serviceAccounts/heavy-local-12bc4@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-04-22T16:24:27.428Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/heavy-local-12bc4/serviceAccounts/heavy-local-12bc4@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-04-22T16:24:27.429Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/heavy-local-12bc4/serviceAccounts/heavy-local-12bc4@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-04-22T16:24:27.432Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/heavy-local-12bc4 [none]
[debug] [2024-04-22T16:24:34.360Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/heavy-local-12bc4 200
[debug] [2024-04-22T16:24:34.360Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/heavy-local-12bc4 {"projectId":"heavy-local-12bc4","projectNumber":"1095342862820","displayName":"Heavy Local","name":"projects/heavy-local-12bc4","resources":{"hostingSite":"heavy-local-12bc4","realtimeDatabaseInstance":"heavy-local-12bc4-default-rtdb","storageBucket":"heavy-local-12bc4.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_4f5a1f5e-1f04-40a1-9be2-a2a42d94df76"}
[info] 
[info] === Deploying to 'heavy-local-12bc4'...
[info] 
[info] i  deploying functions, hosting 
[debug] [2024-04-22T16:24:34.362Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/heavy-local-12bc4 [none]
[debug] [2024-04-22T16:24:41.421Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/heavy-local-12bc4 200
[debug] [2024-04-22T16:24:41.422Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/heavy-local-12bc4 {"projectId":"heavy-local-12bc4","projectNumber":"1095342862820","displayName":"Heavy Local","name":"projects/heavy-local-12bc4","resources":{"hostingSite":"heavy-local-12bc4","realtimeDatabaseInstance":"heavy-local-12bc4-default-rtdb","storageBucket":"heavy-local-12bc4.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_4f5a1f5e-1f04-40a1-9be2-a2a42d94df76"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-04-22T16:24:41.426Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/heavy-local-12bc4/services/cloudfunctions.googleapis.com [none]
[debug] [2024-04-22T16:24:41.426Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/heavy-local-12bc4/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/heavy-local-12bc4
[debug] [2024-04-22T16:24:41.429Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/heavy-local-12bc4/services/runtimeconfig.googleapis.com [none]
[debug] [2024-04-22T16:24:41.429Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/heavy-local-12bc4/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/heavy-local-12bc4
[debug] [2024-04-22T16:24:41.432Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/heavy-local-12bc4/services/cloudbuild.googleapis.com [none]
[debug] [2024-04-22T16:24:41.432Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/heavy-local-12bc4/services/cloudbuild.googleapis.com x-goog-quota-user=projects/heavy-local-12bc4
[debug] [2024-04-22T16:24:41.433Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/heavy-local-12bc4/services/artifactregistry.googleapis.com [none]
[debug] [2024-04-22T16:24:41.434Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/heavy-local-12bc4/services/artifactregistry.googleapis.com x-goog-quota-user=projects/heavy-local-12bc4
[debug] [2024-04-22T16:24:46.308Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/heavy-local-12bc4/services/artifactregistry.googleapis.com 200
[debug] [2024-04-22T16:24:46.308Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/heavy-local-12bc4/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-04-22T16:24:46.320Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/heavy-local-12bc4/services/cloudbuild.googleapis.com 200
[debug] [2024-04-22T16:24:46.321Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/heavy-local-12bc4/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-04-22T16:24:46.322Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/heavy-local-12bc4/services/cloudfunctions.googleapis.com 200
[debug] [2024-04-22T16:24:46.322Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/heavy-local-12bc4/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-04-22T16:24:46.323Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/heavy-local-12bc4/services/runtimeconfig.googleapis.com 200
[debug] [2024-04-22T16:24:46.323Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/heavy-local-12bc4/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-04-22T16:24:46.323Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/heavy-local-12bc4/adminSdkConfig [none]
[debug] [2024-04-22T16:24:49.278Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/heavy-local-12bc4/adminSdkConfig 200
[debug] [2024-04-22T16:24:49.279Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/heavy-local-12bc4/adminSdkConfig {"projectId":"heavy-local-12bc4","databaseURL":"https://heavy-local-12bc4-default-rtdb.firebaseio.com","storageBucket":"heavy-local-12bc4.appspot.com","locationId":"europe-west"}
[debug] [2024-04-22T16:24:49.280Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/heavy-local-12bc4/configs [none]
[debug] [2024-04-22T16:24:52.443Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/heavy-local-12bc4/configs 200
[debug] [2024-04-22T16:24:52.443Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/heavy-local-12bc4/configs {}
[debug] [2024-04-22T16:24:52.445Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2024-04-22T16:24:56.039Z] > [functions] package.json contents: {
  "engines": {
    "node": "18"
  },
  "name": "functions",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "author": "",
  "license": "ISC",
  "dependencies": {
    "axios": "^1.6.7",
    "express": "^4.19.2",
    "firebase-admin": "^12.0.0",
    "firebase-functions": "^4.7.0",
    "fs": "^0.0.1-security",
    "moment": "^2.30.1",
    "rss": "^1.2.2"
  }
}
[debug] [2024-04-22T16:24:56.039Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-04-22T16:24:56.040Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-22T16:24:56.043Z] Found firebase-functions binary at '/home/vaggelis/Έγγραφα/HeavyLocal/web/local/Heavy_local_greece/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8050

[debug] [2024-04-22T16:24:56.370Z] Got response from /__/functions.yaml {"endpoints":{"webApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"webApi"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /home/vaggelis/Έγγραφα/HeavyLocal/web/local/Heavy_local_greece/functions (33.17 KB) for uploading 
[debug] [2024-04-22T16:24:56.414Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/heavy-local-12bc4/locations/-/functions [none]
[debug] [2024-04-22T16:25:02.213Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/heavy-local-12bc4/locations/-/functions 200
[debug] [2024-04-22T16:25:02.213Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/heavy-local-12bc4/locations/-/functions {"functions":[{"name":"projects/heavy-local-12bc4/locations/us-central1/functions/webApi","httpsTrigger":{"url":"https://us-central1-heavy-local-12bc4.cloudfunctions.net/webApi","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"webApi","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"heavy-local-12bc4@appspot.gserviceaccount.com","updateTime":"2024-04-22T14:05:33.984Z","versionId":"65","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"7b4aa1dedd6c0797c737a20c37700eadac36f9c1"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-480698277197.us-central1.cloudfunctions.appspot.com/5bfefb1e-f544-4da0-8cf3-2641a4b38474.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"heavy-local-12bc4\",\"databaseURL\":\"https://heavy-local-12bc4-default-rtdb.firebaseio.com\",\"storageBucket\":\"heavy-local-12bc4.appspot.com\",\"locationId\":\"europe-west\"}","GCLOUD_PROJECT":"heavy-local-12bc4","EVENTARC_CLOUD_EVENT_SOURCE":"projects/heavy-local-12bc4/locations/us-central1/functions/webApi"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"f6b38217-4fa0-4e69-92d3-6cc4531f130a","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1095342862820/locations/us-central1/builds/f6b38217-4fa0-4e69-92d3-6cc4531f130a","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}}]}
[debug] [2024-04-22T16:25:02.214Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/heavy-local-12bc4/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2024-04-22T16:25:06.934Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/heavy-local-12bc4/locations/-/functions 200
[debug] [2024-04-22T16:25:06.935Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/heavy-local-12bc4/locations/-/functions {}
[debug] [2024-04-22T16:25:06.942Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/heavy-local-12bc4 [none]
[debug] [2024-04-22T16:25:09.285Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/heavy-local-12bc4 200
[debug] [2024-04-22T16:25:09.285Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/heavy-local-12bc4 {"projectId":"heavy-local-12bc4","projectNumber":"1095342862820","displayName":"Heavy Local","name":"projects/heavy-local-12bc4","resources":{"hostingSite":"heavy-local-12bc4","realtimeDatabaseInstance":"heavy-local-12bc4-default-rtdb","storageBucket":"heavy-local-12bc4.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_4f5a1f5e-1f04-40a1-9be2-a2a42d94df76"}
[debug] [2024-04-22T16:25:09.293Z] >>> [apiv2][query] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/heavy-local-12bc4/versions [none]
[debug] [2024-04-22T16:25:09.293Z] >>> [apiv2][body] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/heavy-local-12bc4/versions {"status":"CREATED","labels":{"deployment-tool":"cli-firebase"}}
[debug] [2024-04-22T16:25:20.047Z] <<< [apiv2][status] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/heavy-local-12bc4/versions 200
[debug] [2024-04-22T16:25:20.048Z] <<< [apiv2][body] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/heavy-local-12bc4/versions {"name":"projects/1095342862820/sites/heavy-local-12bc4/versions/e2728f47ef9e5a56","status":"CREATED","config":{},"labels":{"deployment-tool":"cli-firebase"}}
[debug] [2024-04-22T16:25:20.051Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/heavy-local-12bc4/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2024-04-22T16:25:20.052Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/heavy-local-12bc4/locations/us-central1/functions:generateUploadUrl {}
[debug] [2024-04-22T16:25:42.424Z] *** [apiv2] error from fetch(https://cloudfunctions.googleapis.com/v1/projects/heavy-local-12bc4/locations/us-central1/functions:generateUploadUrl, {"headers":{},"method":"POST","body":"{}"}): FetchError: request to https://cloudfunctions.googleapis.com/v1/projects/heavy-local-12bc4/locations/us-central1/functions:generateUploadUrl failed, reason: socket hang up
[info] 

There was an issue deploying your functions. Verify that your project has a Google App Engine instance setup at https://console.cloud.google.com/appengine and try again. If this issue persists, please contact support.
[warn] ⚠  functions: Upload Error: Failed to make request to https://cloudfunctions.googleapis.com/v1/projects/heavy-local-12bc4/locations/us-central1/functions:generateUploadUrl 
[debug] [2024-04-22T16:25:47.434Z] Error: Timed out.
    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/utils.js:258:49)
    at listOnTimeout (node:internal/timers:569:17)
    at process.processTimers (node:internal/timers:512:7)
[error] 
[error] Error: An unexpected error has occurred.
